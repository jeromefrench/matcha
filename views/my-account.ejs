<% include elements/header.ejs %>

<% if (locals.flash && locals.flash.error) { %>
	<div class="ui negative message">
		<%= flash.error %>
	</div>
<% } %>

<% if (locals.flash && locals.flash.success) { %>
	<div class="ui positive message">
		<%= flash.success %>
	</div>
<% } %>

<div class="ui container" style="margin-top: 30px">
	<div class="ui middle aligned center aligned grid">
		<form method="POST" action="/my-account" class="ui large form">
			<h2 class="ui teal image header">
				<div class="content">
					Account informations
				</div>
			</h2>
			<div class="ui stacked segment">
				<div class="inline field">
					<div class="field"> <label>Login</label> </div>
					<input type="text" name="login" <%- include('elements/values_signup.ejs', {val: locals.login}); %>required>
					<%- include('elements/signup_login.ejs', {logexist: session.loginexist, empty:session.lowrong}); %>
				</div>
				<div class="inline field">
					<div class="field"> <label>First Name</label> </div>
					<input type="text" name="fname" <%- include('elements/values_signup.ejs', {val: locals.fname}); %>required>
					<%- include('elements/empty.ejs', {empty: session.fwrong}); %>
				</div>
				<div class="inline field">
					<div class="field"> <label>Last Name</label> </div>
					<input type="text" name="lname" <%- include('elements/values_signup.ejs', {val: locals.lname}); %>required>
					<%- include('elements/empty.ejs', {empty: session.lwrong}); %>
				</div>
				<div class="inline field">
					<div class="field"> <label>Mail</label> </div>
					<input type="email" name="email" <%- include('elements/values_signup.ejs', {val: locals.mail}); %>required>
					<%- include('elements/signup_email.ejs', {mailexist: session.mailexists, empty: session.ewrong}); %>
				</div>
				<div class="inline field">
					<div class="field"> <label>New password</label> </div>
					<input type="password" name="npass" <%- include('elements/values_signup.ejs', {val: session.passwd}); %>required>
					<%- include('elements/passwd.ejs', {empty: session.pwdwrong, vpass: 0}); %>
				</div>
				<div class="inline field">
					<div class="field"> <label>Verification</label> </div>
					<input type="password" name="verif" <%- include('elements/values_signup.ejs', {val: session.vpasswd}); %>required>
					<%- include('elements/passwd.ejs', {empty: 0, vpass: session.vpwrong}); %>
				</div>
    			<div class="ui fluid">
    				<input type="submit" class="ui fluid primary button" value="Change">
    			</div>
			</div>
		</form>
	</div>
</div>
<% include elements/footer.ejs %>
