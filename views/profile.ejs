<%- include('elements/header'); %>

<div class="ui container">

	<h1 class="ui header">Your on <%= user.fname %> <%= user.lname %> profile</h1>
	<div class="ui two column centered grid">
  		<div class="column right aligned">
			<!-- #############################################################################3 -->
    		<div class="column">
				<div class="ui raised  segment">
					<%- include('elements/profile_pic', {pic: user.path_photo}); %>
				</div>
			</div>
			<div class="ui raised segment">
      			<h3 class="ui header"></h3>
				<%- include('elements/like_unlike_button', {login: locals.login_profil, like: user.do_i_like}); %></br>
				Like me :<%- include('elements/green_check_red_cross', {bool: user.does_it_like_me}); %></br>
				Match :<%- include('elements/green_check_red_cross', {bool: user.match});  %></br>
				<%- include('elements/chat_button', {match: user.match, login:user.login});   %>
			</div>

			<div class="ui raised segment">
      			<h3 class="ui header">Connection log</h3>
				<p>Last seen : <%= user.last_visit %></p>
			</div>

  		</div>
    	<div class="column">
			<!-- #############################################################################3 -->
			<div class="ui raised segment">
      			<h3 class="ui header">Information</h3>
				<p>
					<strong>Firsname:</strong> <%= user.fname %>   </br>
					<strong>Lastname: </strong><%= user.lname %>   </br>
					<strong>Location: </strong><%= user.city %>, <%= user.country %></br>
					<strong>Popularity score: </strong><%- include('elements/popularite.ejs', {pop: session.pop}); %></br>
					<strong>Age: </strong><%= user.age %></br>
				</p>
			</div>
			<div class="ui raised segment">
      			<h3 class="ui header">Biographie</h3>
				<p>
					<%= user.bio %>
				</p>
			</div>
			<div class="ui raised segment">
      			<h3 class="ui header">Interest tag</h3>
					<% arrayInter = user.interests.split(",");
						arrayInter.forEach(function(inter){ %>
				<p>
								<label class="ui tag label"><%= inter %></label>
				</p>
					<% }) %>
			</div>
    	</div>
	</div>
	<%- include('elements/fake.ejs', {login: locals.login_profil, report: report}) %>
	<%- include('elements/block.ejs', {login: locals.login_profil, block: user.block}) %>
</div>

<script>
	var event = new Event('vue');

	document.addEventListener('vue', function(e){
		socket.emit('message', {message: 'test', room: 'test'});
		console.log("seconde");
		socket.emit('vue_profile', {
			room: 'test'
		});
	});

</script>

<%- include('elements/footer'); %>
